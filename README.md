#### 玛薇卡跳飞
##### 项目简介
这是一个由Python编写的、由pyinstaller封装的程序，可以实现在原神窗口中，切换到玛薇卡时，通过点击特定按键实现跳飞的脚本。
##### 脚本使用方法
- 双击程序，给予管理员权限。
- 在Windows托盘中右键更改**触发键**和**玛薇卡在队伍中的位置**（默认**触发键**为“V”，**玛薇卡在队伍中的位置**为3），然后在游戏中切换到玛薇卡时，即可在按下**触发键**时实现跳飞
- 触发键如果要改成shift就输入“shift”，特殊键输入完整名就行，要使用组合键就用“+”连接，比如“ctrl+z”。
##### 注意事项
由于使用的是监听键盘方式实现跳飞（详见脚本实现逻辑），所以在游戏内聊天，在特定条件下，按下**触发键**会打出三个空格，这不是bug，也可以通过聊天前切换别的角色，聊天时不要组合使用到玛薇卡**位置数字**和**触发键**来规避这个问题，但要是不聊天几乎没什么影响，反正看了后面实现逻辑就懂了。
##### 脚本实现逻辑
- 当焦点窗口的标题为“原神”或者“云·原神”时，脚本开始监听键盘，当焦点窗口的标题为其他时，脚本会暂停监听键盘。
- 游戏中，脚本会监听设定的角色所在位置的**位置数字**，比如玛薇卡在队伍的3号位，当点击3时，这时候就会开始监听**触发键**，当点击除了**位置数字**的**其他数字**（限定1-5，当**位置数字**为3时，**其他数字**就指1、2、4、5）时，就会暂停监听按键“V”，因此，队伍里没有玛薇卡时，可以设置**位置数字**为5，这样就不用关闭程序了。
- 按下**触发键**，比如按键“V”，在监听**触发键**时，当点击“V”时，就会连点3次空格，以实现跳飞，不在监听时，按下就不会连点三次空格。
- 项目主要分为无托盘版和有托盘版，无托盘版在代码中更改，有托盘版可以在Windows托盘中右键更改**触发键**和**位置数字**，更改后会在程序所在文件夹生成config.json以记录更改的按键，如果删除的话，在下次打开时会恢复默认按键。
##### 自行封装方法
- 下载需要封装的py文件和ico，当然，ico可以直接更改成自己喜欢的，但是名字要一致。
- 安装python，在终端安装对应的库：
`pip install pystray pillow pywin32 pyinstaller keyboard`
- 在各个py中有对应的安装命令，在所在文件夹打开终端运行该命令就可以封装了。